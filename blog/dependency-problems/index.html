<!DOCTYPE html>
<html lang="zh">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  
  <meta name="baiduspider" content="index,nofollow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>当代软件面临的依赖管理挑战</title>
  <meta name="author" content="乔梁" />
  
  
  
  
  <meta name="keywords" content="devops, 持续交付, 轻敏捷, 双环模型, 敏捷方法, 敏捷开发, 精益思想, Scrum, 研发效能, 效能度量, SRE, 持续部署, 工程效能, 持续集成, 制品管理, 依赖管理, 配置管理, 软件工程">
  
  
  <meta name="description" content="Microsoft">

  <meta name="generator" content="Hugo 0.74.2" />

  
  <link href='local.google.fonts.css' type='text/css'>

  
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/5.13.0/css/all.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.violet.css" rel="stylesheet" id="theme-stylesheet">
  

  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />

  
  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  
  <link rel="alternate" href="http://www.continuousdelivery20.com/index.xml" type="application/rss+xml" title="持续交付 2.0">

  
  
  
  
  
  
  
  <meta property="og:locale" content="zh">
  <meta property="og:site_name" content="持续交付 2.0">
  <meta property="og:title" content="当代软件面临的依赖管理挑战">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://www.continuousdelivery20.com/blog/dependency-problems/" />
  <meta property="og:description" content="Microsoft">
  <meta property="og:image" content="http://www.continuousdelivery20.com/img/banners/b-2021-01/dependency-issue.png">
  <meta property="og:image:type" content="image/png">
  
  
  
    <meta property="og:image:width" content="1000">
    <meta property="og:image:height" content="750">
  
  
  <meta property="og:updated_time" content="2021-01-20T00:00:00Z">
  
    
    
    <meta property="article:section" content="观点与方法">
    <meta property="article:tag" content="制品管理">
    <meta property="article:tag" content="依赖管理">
    <meta property="article:tag" content="工程效能">
    
    
    <meta property="article:published_time" content="2021-01-20T00:00:00Z">
    <meta property="article:modified_time" content="2021-01-20T00:00:00Z">
  

  
  <meta name="twitter:card" content="summary_large_image">
  
  <meta name="twitter:title" content="当代软件面临的依赖管理挑战">
  
  <meta name="twitter:image" content="http://www.continuousdelivery20.com/img/banners/b-2021-01/dependency-issue.png">
  
  <meta name="twitter:description" content="Microsoft">
  

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    <img src="/img/logo.png" alt="当代软件面临的依赖管理挑战 logo" class="hidden-xs hidden-sm">
                    <img src="/img/logo-small.png" alt="当代软件面临的依赖管理挑战 logo" class="visible-xs visible-sm">
                    <span class="sr-only">当代软件面临的依赖管理挑战 - 跳到主页</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">切换导航</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  
                  
                  <li class="dropdown">
                    
                    <a href="/">主页</a>
                    
                  </li>
                  
                  
                  <li class="dropdown active">
                    
                    <a href="/blog/">博客</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/faq/">资源</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/contact/">关于</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>当代软件面临的依赖管理挑战</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">由 <a href="#">乔梁</a> | 2021-01-20</p>

                        <div id="post-content">
                          <h3 id="一序">一、序</h3>
<p>一周前，我们对 1000+用 golang 写的代码进行 Mob CR，类似于“扎堆编程”。
在 4+ 小时的讨论中，其中讨论的一个问题是：“如何正确进行软件项目的依赖包管理”。</p>
<blockquote>
<p>打开 go.sum文件，你会发现，有很多依赖包，它们会存在多个不同的版本。而且，有一些版本号甚至是以“ 0.”开头的版本，而“ 0.” 意味着它们都是不稳定的非LTS版本，类似于下面这个图片的样子。</p>
</blockquote>
<p><img src="/img/blog/202101/too-many-depandencies.png" alt=""></p>
<p>最终通过代码重构以后，我们这段代码的依赖数量大幅度减少。这要求每个开发人员都需要克制：</p>
<ul>
<li><strong>不要只图当前的方便快捷，就随便引入外部依赖</strong></li>
<li><strong>如果真的需要使用这个功能，先要在组织所用的依赖库管理系统中查找是否已经引入了类似功能的外部包</strong></li>
</ul>
<p><img src="/img/blog/202101/depandency-management-shrink.png" alt=""></p>
<p>当代软件的生产速度已经加快，一个重要的原因是有大量的开源类库所使用。但是，并不是所有的类库都是经过严格测试，安全和质量是有保证的。相反，绝大多数开源类库的质量是存疑的。</p>
<p>即使大厂支持的开源项目，也一样可能存在安全疑点，比如这个 <a href="https://github.com/alibaba/nacos/issues/4593">Report a security vulnerability in nacos to bypass authentication #4593</a>。</p>
<p>所以，对于一个商业组织来说，软件系统的依赖管理挑战要比二十年前严峻得多。</p>
<p>在这次 Mob CR 中，同事 xshi 给我分享了一个英文链接，就是下面这篇，今天也分享在这里，原文链接见文末。</p>
<h3 id="二正文">二、正文</h3>
<p>几十年来，关于软件复用，说得多做得少。现在，情况却反过来了：开发者几乎每天都在以软件依赖（dependency）的方式复用别人开发的软件，却没人去验证这些依赖是否安全和可靠。</p>
<p>作者 Russ Cox 的个人背景如下：</p>
<ul>
<li>管理 Google 的内部代码系统（此系统把软件依赖当做第一等公民）（引：<code>1</code>）</li>
<li>开发 Golang 语言的依赖相关功能（引：<code>2</code>）</li>
</ul>
<p>软件依赖中的很多严重风险被我们忽略了。而简单、细粒度的软件复用转变得如此之快，我们来不及梳理出选择依赖、有效使用依赖的最佳实践，甚至无法确定何时应使用依赖，何时不应使用依赖。我写本文的目的在于：提高对软件依赖中的风险的认识，并希望抛砖引玉，共寻良策。</p>
<h3 id="三什么是依赖">三、什么是依赖？</h3>
<p>在现今的软件开发世界里，依赖是指你的程序调用的外部代码。添加依赖可避免这些重复劳动：设计、编写、测试、调试、维护。在本文，我们称这样的一份代码单元为包（package），有些系统可能称之为库（library）、模块（module），都一样。</p>
<p>使用别人已编写好的依赖库早已有之。所有的开发人员可能都经历过：手动下载依赖、安装依赖，譬如 C 语言的 <code>PCRE</code>、<code>zlib</code>，或 C++ 的 <code>Boost</code>、<code>Qt</code>，或 Java 的 <code>JodaTime</code>、<code>JUnit</code>。这些包都是高质量的、已被充分调试过的，并且需要一定专业能力才能开发出来。</p>
<p>在十多年以前，对于开发者来说，为得到这些功能，需手动下载、安装、更新。虽然很无聊，但总比从头开发容易得多。由于需要比较多的手动操作，所以这些包的 size 通常比较大，毕竟操作一次不容易，一次就下载全吧）。</p>
<p>假如所需要的功能并不复杂，工作量不大的话，开发者可能就重新实现一下了。</p>
<p>依赖管理器（dependency manager）（或叫包管理器 —— package manager）可自动下载、安装所需的依赖包。依赖管理器的出现，让依赖包的下载和安装都变得更容易。手工开销变低了，再小的包也可轻松地发布、复用。</p>
<p>举例来说，Node.js 的依赖管理器 NPM 提供了超过 750,000 个包。其中有一个叫 <code>escape-string-regexp</code> 的包，它仅有一个函数，用于转义正则表达式。其全部代码如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">matchOperatorsRe</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/[|\\{}()[\]^$+*?.]/g</span>;

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">str</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">str</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;string&#39;</span>) {
        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">TypeError</span>(<span style="color:#e6db74">&#39;Expected a string&#39;</span>);
    }
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">matchOperatorsRe</span>, <span style="color:#e6db74">&#39;\\$&amp;&#39;</span>);
};
</code></pre></div><p>在依赖管理器出现以前，很难想象可以发布这样一个仅 8 行代码的库。因为代价太高而收益甚微。但 NPM 将这些成本降到几乎为 0，让再微小的功能都可以打包复用。截至 2019 年 01 月 下旬，<code>the escape-string-regexp</code> 这个包已被大约 1000 个其他 NPM 包依赖，更别提那些开发者为自己写的没公开发布的包了。</p>
<p>现在几乎每一门编程语言都有自己的依赖管理器，如下面每个都包含超过十万个包：</p>
<ul>
<li>Maven（Java）</li>
<li>Nuget（.NET）</li>
<li>Packagist（PHP）</li>
<li>PyPI（Python）</li>
<li>RubyGems（Ruby）</li>
</ul>
<p><strong>这种细粒度、广泛的软件复用方式，是过去二十年软件开发中最重要的变化之一。</strong>
<strong>面对这些变化，如果不引起重视，后果会很严重。</strong></p>
<h3 id="四会在哪儿出问题">四、会在哪儿出问题</h3>
<p>在本文中，一个包是指：你从互联网下载下来的一份代码（或者二进制包），它是由你不认识的人设计、编写、测试、调试的。一旦开始使用这些代码，你的程序可能会面临因依赖问题而导致的失败和缺陷。</p>
<p>事实上，你现在手上正写的程序就依赖于这些从互联网陌生人那里得到的代码（比如 github 上的仓库）。这其实并不是很安全的做法，但是，为什么还有那么多人愿意这么做呢？</p>
<p>那是因为：</p>
<ul>
<li>简单方便</li>
<li>程序能跑起来</li>
<li>其他人都在这么做</li>
<li>更重要的是：这似乎是一种惯例并延续到现在</li>
</ul>
<p>然而，我们忽略了一些重要的区别。</p>
<p>几十年以前，大部分开发者是信任他们所依赖的别人写的软件，譬如：操作系统、编译器。这些软件是从已知的来源购买的，通常还包含一些支持协议。尽管这些软件依然会有潜在的缺陷，或奇怪的问题（引：<code>3</code>），但至少我们知道该找谁，甚至可以寻求商业或法律支持。</p>
<p>现在，开源软件几乎可以零成本在互联网上分发，这颠覆了以前那种“软件需要购买”的方式。在软件复用比较麻烦时，很少有项目会去发布可复用的代码包。尽管开源软件都有许可证，并隐含“适用的范围”，但通常被大家忽略。一个项目的名声如何，反而往往是人们决定是否使用它的重要因素。对软件的信任已从商业、法律变成了名声。许多常见的早期的包仍保持着很好的声誉，包括：</p>
<ul>
<li>BLAS（1979）</li>
<li>Netlib（1987）</li>
<li>libjpeg（1991）</li>
<li>LAPACK（1992）</li>
<li>HP STL（1994）</li>
<li>zlib（1995）</li>
</ul>
<p>依赖管理器已将开源代码的复用粒度降低到 1 个函数几十行代码的规模，这真的是一项重大的技术成就。依赖管理器提供了无数的包供使用，我们信任这些包，但其商业、法律、信誉的支持并没跟上步伐。对于开源软件，我们用得多，却对其潜在风险关注得不多。</p>
<p>采用不良的依赖的成本可认为是所有可能的不良结果的总和，也即每个不良结果的成本乘以其发生的概率（风险）。</p>
<p><img src="/img/blog/202101/deps-cost@2x.png" alt=""></p>
<p>在不同类型的项目上，使用这些外部依赖，产生的结果也不相同。</p>
<p>比如，在某个人的个人爱好类项目上，只要他自己开心就行，无非是浪费一些时间，缺陷的影响也不大，其不良后果的成本几乎为零。甚至发现并调试这种缺陷会给他自己带来一些乐趣。</p>
<p>然而，在商业生产环境中的软件需要长期运行，这类外部依赖引发的错误成本就可能很高，比如导致服务器停机、敏感数据泄露、客户利益受损，甚至公司也可能因此而倒闭。这种故障引发的高成本使得管理这类问题带来的风险变得尤为重要。</p>
<p>我们实际上已经积累了一些相关的经验。</p>
<h3 id="五如何检查依赖">五、如何检查依赖</h3>
<p>我们通常不会聘请一个我们完全不了解的软件开发者，而是先要了解一些相关信息，比如笔试、面试、背景调查等等。</p>
<p>直接使用在互联网上找到的一个依赖包，就如同聘请了一个完全不了解的软件开发者。</p>
<p>如果，我们还是有必要做一些基本的检查，看一看这些代码是否会产生问题。如果发现的是一些小问题，你可以通过自行修订，或者提出Issue，提交补丁（如果能找到源头作者或社区的话）来规避它们。但是，如果是严重问题，就应不使用这个软件包，而是再去寻找替代品，或者干脆自己动手开发一个。</p>
<p>请记住，作者在互联网上发布开源软件包，是希望它们有用，但并不保证其可用性或提供支持。在开源包开发和使用过程中，你甚至需参与调试优化。正如 GNU 通用公共许可证所警告的那样，“程序的质量和性能的全部风险是并存的。若程序有缺陷，导致的维护和修复成本需自行负责。”（引：<code>4</code>）</p>
<p>下面将列举评判一个包的注意事项。</p>
<h4 id="1设计方面">1、设计方面</h4>
<ul>
<li>外部依赖包的文档是否清晰？</li>
<li>它的 API 设计是否清晰？</li>
</ul>
<p>如果作者能非常清晰地讲明白包的 API、设计概念、文档，那通常这份代码还算不错。基于清晰、设计良好的 API 进行编程有助于更简单、更快的编程并且更少错误。</p>
<p>还有，一定要关注一下，作者是否在文档中是否明确说明了后续升级时的可能兼容性问题？（如 C++（引：<code>5</code>），Go（引：<code>6</code>）的兼容性文档）</p>
<h4 id="2代码质量">2、代码质量</h4>
<ul>
<li>软件的代码写得怎么样？若你还不能确定，就要去尝试读一读其中的一部分代码。</li>
<li>代码作者对待代码是否小心、认真、一致？</li>
<li>代码看起来是否值得你去调试一下？你可能还真的需要调试一下。</li>
</ul>
<p>使用一些常规方法来检查代码质量。</p>
<p>例如，编译 C 或 C++ 程序时，可通过启用编译器警告选项（如 <code>-Wall</code>）来告诉你如何避免各种未定义的行为。</p>
<p>较新语言，如 Go、Rust、Swift 使用了 <code>unsafe</code> 关键字来标记违反类型系统的代码，所以你可能还需要知道代码里有多少不安全的代码。</p>
<p>还有更高级的语义工具如 Infer（引：<code>7</code>）、SpotBugs（引：<code>8</code>）也挺有用。</p>
<p>Linter（语法、风格检查器）在此时的作用不大，因为它们很多如括号的风格问题，但应重点关注代码的语义问题。</p>
<p>你应保持开放的心态，对于看不去不正确的做法，可以再探索一下。</p>
<p>例如，SQLite 库中有 1 个 200,000 行代码的 C 文件和 1 个 11,000 行代码的头文件。这么大的文件是很奇怪的，但当你细究时会发现，源码的开发代码实质是由多个文件组成的：一个传统的文件树中包含了上百个 C 文件、测试文件及相关脚本。这个巨大的源文件其实是由多个小文件自动合并而成的，这样做是为了方便那些没使用依赖管理器的用户使用。（并且这样合并后的代码可以运行得相对更快些，因为此时编译器可有更多的优化空间）</p>
<h4 id="3自动化测试">3、自动化测试</h4>
<ul>
<li>代码是否包含测试？</li>
<li>测试是否能运行？</li>
<li>运行是否能通过？</li>
</ul>
<p>测试除了可保证代码的基本质量，其实还表明作者细心维护功能正确性的态度。举例来说，SQLite 项目的测试集就包含超过 30,000 个单独的测试用例，以及解释测试策略的开发文档（引：<code>9</code>）。</p>
<p>如果代码中没有或很少测试，那就要小心了：这说明以后修改代码后，没有很方便地方式发现潜在的问题。假如你自己写代码时会写自动化测试用例，那你也应要求你外包给别人的代码也写测试用例。</p>
<p>如果有测试代码的话，你可以尝试运行验证来发现一些有用信息：</p>
<ul>
<li>代码覆盖率</li>
<li>竞争检测（引：<code>10</code>）</li>
<li>内存占用检测</li>
<li>内存泄露检测</li>
</ul>
<h4 id="4调试与维护">4、调试与维护</h4>
<p>找到该包的问题跟踪列表（例如 Github 某个项目的issues list），看看里面：</p>
<ul>
<li>有多少未关闭的 bug？</li>
<li>未关闭的 bug 已经存在多久了？</li>
<li>是否很多 bug 都已经被修复了？</li>
<li>最近是否有 bug 被修复？</li>
</ul>
<p>如果你发现里面有很多未关闭的 bug，并且这些 bug 已经存在较长时间了，则说明这个包不怎么好。反之，若发现被关闭的问题很少是关于 bug 的，并且都已经修复了，则说明这个包还不错。</p>
<p>关注包的提交记录可发现：</p>
<ul>
<li>这些代码已经持续活跃维护多久了？</li>
<li>目前是否还活跃？已经持续活跃了较长时间的软件包更可能还会继续维护</li>
<li>有多少人参与维护？有些包纯粹是个人业余时间开发着玩的，有些则是多个专职开发者投入了数千小时的。通常后者的包更可能及时修复 bug、持续改进和日常维护。</li>
</ul>
<p>但也不是绝对，有些代码确实算是“完成”了。譬如 NPM 的包 <code>escape-string-regexp</code>，很早就有了，但基本不需要再修改了。</p>
<h4 id="5被使用的次数">5、被使用的次数</h4>
<ul>
<li>是否有很多包依赖于此包？</li>
</ul>
<p>依赖管理器平台通常可提供使用情况的统计数据，或者你可以去搜索引擎搜索来判断是否很多人用此包。多人用的话，至少说明这份代码能满足这些人的使用，并通常能快速发现新问题。广泛的使用量，其实也为持续维护提供保障，因为若维护者不维护了，还会有其他有兴趣的人去接手维护。</p>
<p>举例来说，像 <code>PCRE</code>、<code>Boost</code>、<code>JUnit</code> 这些库被极为广泛地使用着。在你碰到问题前，很可能别人已经碰到，且已经修复了。</p>
<h4 id="6安全性">6、安全性</h4>
<ul>
<li>你是否会使用第三方包来处理不可靠的输入？</li>
<li>如果是的话，它能否足以抵御恶意输入？</li>
<li>它是否出现在国家漏洞数据库（NVD）列出的安全问题中？（引：<code>11</code>）</li>
</ul>
<p>举例来说，2006 年，Jeff Dean 和我在 Google 代码搜索系统工作时（引：<code>12</code>），用了 <code>grep</code> 而非开源的代码。当时流行的 <code>PCRE</code> 正则表达式库似乎是一个不错的选择。但之前我们与 Google 的安全团队讨论时了解到 <code>PCRE</code> 有一系列的问题包括缓冲区溢出（特别是其解释器中）。我们当时也在 NVD 中找到关于 <code>PCRE</code> 的相关问题。虽然如此，我们也没放弃使用 <code>PCRE</code>，但我们因此变得更谨慎的进行测试和问题隔离。</p>
<h4 id="7许可证">7、许可证</h4>
<ul>
<li>是否已获得代码的许可，或者说它是否有许可证？</li>
<li>许可证是否适用于你的项目或公司？</li>
</ul>
<p>Github 上有很小一部分代码没有明确标明许可证。现在允许，并不表示你的项目或公司能一直继续使用这些依赖。譬如，Google 就不允许使用基于类似这几种许可证的代码： <code>AGPL</code>（容易有法律风险）、<code>WTFPL</code>（过于模糊）（引：<code>13</code>）。</p>
<h4 id="8检查一下依赖的依赖">8、检查一下依赖的依赖</h4>
<ul>
<li>你引用的代码它自己本身是否也依赖于其他包？</li>
</ul>
<p>间接依赖中的问题与直接依赖中的问题都是一样的。依赖管理器平台可以列出包的所有依赖情况，所以理想情况下，你应逐一进行检查。间接的依赖也可能会导致风险，一个包自身的依赖需要更多的检查工作。</p>
<p>很多开发者从来不检查代码的间接依赖，也不知道间接依赖了什么。</p>
<p>例如，2016 年 03 月，NPM 社区发现许多广泛使用的项目（如 Babel、Ember、React）都间接依赖了一个很小的库 <code>letf-pad</code>（1 个只有 8 行的函数）。而 <code>left-pad</code> 的作者从 NPM 上删除了这个包，这导致很多 Node.js 用户的项目构建失败（引：<code>14</code>），甚至连 <code>left-pad</code> 自己也不例外。</p>
<blockquote>
<p>例如，NPM 上总共约 750,000 个包，其中 30% 直接或间接依赖于 <code>escape-string-regexp</code>。根据 Leslie Lamport（图灵奖得主） 对分布式系统的观测，依赖管理器平台可以轻松让一个包失效，从而导致你的包莫名变得不能用，例如无法编译构建打包。</p>
</blockquote>
<h4 id="9通过自己的测试来检查">9、通过自己的测试来检查</h4>
<p>如前所述，检查工作应运行包自带的测试代码。即使包自带的自动化测试可以通过，你也应该在使用这个包之前，继续为你所使用的相应功能写自动化测试用例。</p>
<p>这些测试用例应是简短的、独立的程序，以便于日后容易理解你的 API 对应的测试。（如果你现在还没写测试用例，就立即写吧，回头是岸）花些额外精力写测试代码是很值得的，因为即使将来依赖的包的版本升级了，你的功能也会有保障。若你发现一个 bug，并有可能修复，那么你可以重新执行一次你项目的测试用例，以确定不会影响到其他功能。</p>
<p>运行基本的检测来发现可能存在的问题。以 Google 代码搜索系统为例，根据经验我们知道 <code>PCRE</code> 有时需要很长时间执行某些特殊的正则表达式搜索。我们最初的计划是将搜索分为“简单”和“复杂”两种正则表达式，并跑在互相独立的线程池中。第一阶段的测试中，我们跑了一些对比 <code>pcregrep</code> 和一些其他 <code>grep</code> 实现的基准测试。而当我们在一个测试用例中发现 <code>pcrgrep</code> 比最快的 <code>grep</code> 实现慢了近 70 倍时，我们开始重新考虑是否还该继续用 <code>PCRE</code> 了。尽管最后我们还是放弃了 <code>PCRE</code>，但时至今天这个测试用例依然保存在我们的代码库中。</p>
<h3 id="六对外部依赖进行封装">六、对外部依赖进行封装</h3>
<p>不同包的情况，你可能会因为下面因素而考虑是否继续使用它：</p>
<ul>
<li>新的更新版本不再是向后兼容的了</li>
<li>包出现了严重的问题</li>
<li>有更好的包可以替代它</li>
</ul>
<p>基于上述原因，你需要额外工作来方便迁移到新的依赖。</p>
<p>如果你项目代码中很多地方用到了该依赖，那当迁移到新依赖时，你需要修改的地方会很多。更麻烦的是，若你提供给外面的 API 包含了依赖包的 API，那当你迁移到新的依赖时，则使用了你 API 的代码都得修改，而那些调用了你 API 的代码，你可能是无法控制的。</p>
<p>为了避免这些成本，你应额外定义一个接口来简单封装依赖中的细节。需注意的是，你的封装应仅包含你项目用到的功能，而非该依赖的全部功能。理想情况下，这样可以让你仅修改封装器就能适配不同的依赖。迁移到新的依赖后，记得也修改所以对应的测试用例，以后还可以继续换依赖。</p>
<p>在 Google 代码搜索系统中，我们开发了一个抽象的 <code>Regexp</code> 类，类中定义了代码搜索接口，支持任意正则表达式引擎。然后我们为 <code>PCRE</code> 写了一个轻量的封装器来实现该接口。这种间接的方式可以更简单的测试不同的库，并可以避免去了解 PCRE 的内部细节。反过来看，这也使得我们更容易在不同的库之间切换。</p>
<h3 id="七隔离依赖">七、隔离依赖</h3>
<p>在程序运行的时候，隔离依赖可避免因为这个依赖有 bug 而导致的崩溃。例如，Google Chrome 浏览器允许用户添加依赖（即扩展）。2008 年 Chrome 发布，引入了一个很关键的功能：将每个扩展隔离在运行在独立系统进程的沙箱中（引：<code>15</code>）。因此，有 bug 的扩展并不能访问到浏览器的全部内存，并可通过系统调用停掉扩展进程（引：<code>16</code>）。在 Google 代码搜索系统中，我们一直将 <code>PCRE</code> 解释器运行在一个类似的沙箱中，直到弃用它。现在，可以选择基于轻量级管理程序的沙箱（如 <code>gVisor</code>）（引：<code>17</code>）。将依赖隔离起来可减少很多风险。</p>
<p>即使有示例，也有现成的选项，在运行时隔离代码依然比较困难，而且的确很少人做到了。</p>
<p>真正的隔离需要一个完全内存安全的语言，不需要转换为无类型的代码。这不仅对 C、C++ 等完全不安全的语言有挑战，也对提供受限制的不安全操作的语言提出挑战，如含 JNI 的 Java、和含“不安全”功能的 Go、Rust、Swift。即使在内存安全的语言中如 JavaScript，其代码通常也可访问远远超过它需求的地方。NPM 包 <code>event-stream</code> 为 JavaScript 事件提供流式 API，在其 2018 年 11 月的最新版本中发现了两个半月前添加了混淆过的恶意代码。这些恶意代码从名为 <code>Copay</code> 的移动 App 中收集了大量比特币。这些代码访问了与事件流完全无关的系统资源（引：<code>18</code>）。针对此类问题，限制依赖的访问权限是防御措施之一。</p>
<h3 id="八避开依赖">八、避开依赖</h3>
<p>如果某个依赖包的风险太大，而且你也找不到隔离的办法，那最好的办法就是完全不用它。或至少不要使用有问题的那部分。</p>
<p>例如，随着我们对 <code>PCRE</code> 风险、成本的更深入了解，在我们的代码搜索系统中，我们的使用方式也不断发生了变化。这些变化以下面的顺序发生：</p>
<ol>
<li>直接使用 <code>PCRE</code></li>
<li>在沙箱中使用 <code>PCRE</code> 的解释器</li>
<li>写一个新的正则表达式解释器，但依然使用 <code>PCRE</code> 的执行引擎</li>
<li>写一个新的解释器，并连接到一个不同的，且更高效的开源执行引擎</li>
<li>我们重写执行引擎。</li>
</ol>
<p>重写以后，我们就没有任何依赖了，我们后来将其开源并命名为 <code>RE2</code>（引：<code>19</code>）</p>
<p>如果你只需依赖包中的一小部分功能，最简单的方法可能是直接复制你所需的那部分下来（当然，也要保留适当的版权和其他法律声明）。这时你需要自行修复 bug、维护等等，但好处是你可以与较大的风险隔离开来。Go 开发者社区有一句谚语：“小的复制比小的依赖更好”（引：<code>20</code>）。</p>
<h3 id="九依赖的更新策略">九、依赖的更新策略</h3>
<p>关于软件的传统观点是“如果没有问题，就不要修复它。”。因为，依赖包的升级可能会引入新的 bug，而且升级也不像增加新功能那样带来多少好处，何苦要冒这个险呢？</p>
<p>但上述观点忽略了两种成本，它们分别是：</p>
<ol>
<li>最终还是要升级，由此带来的成本，在软件中，修改代码的难度并不是线性递增的。10 次小改动比 1 次大改动更少工作量，也更不容易出问题。</li>
<li>很难发现之前新版本中已被修复过的 bug。尤其是在与安全相关的环境中，外面已知的漏洞都会被人利用，你每天都有可能被攻击者的入侵。</li>
</ol>
<p>例如，Equifax（一家跨国征信公司）的高管在 2017 年国会证词中的详述（引：<code>21</code>）。当年 3 月 7 日，Apache Struts 爆出一个新漏洞，并发布了修复版本。3 月 8 日，Equifax 收到 US-CERT 应更新 Apache Struts 的通知。3 月 9 日、3 月 15 日，Equifax 分别进行了代码和网络扫描，并未发现有涉及漏洞的外网服务器。5 月 13 日，攻击者发现了（Equifax 的安全团队未发现）依然有存在漏洞的服务器。攻击者利用 Apache Struts 漏洞入侵了 Equifax 的网络，并在接下来的两个月内盗取了约 1.48亿人的详细个人信息和财务信息。Equifax 公司最终在 7 月 29 日发现被入侵，并在 9 月 4 日进行了公开说明。到了同年 9 月，Equifax 的 CEO、CIO、CSO 已全部辞职，并且国会开始介入调查。</p>
<p>Equifax 的经验告诉我们，虽然依赖管理器平台知道构建代码时所使用的版本，但你还是需要另外的工作来跟踪线上部署过程的信息。对于 Go 语言，我们正尝试在每个二进制文件中自动包含版本清单，以便在部署过程中可找到所需升级的依赖项。Go 还可以在运行时提供这些信息，这样服务器就可以通过查询依赖库中的已知 bug，并在需要升级时自动向监控服务发送报告。</p>
<p>及时升级依赖固然重要，但升级就意味着向项目添加新代码，这时，我们仍旧需要去评估新版本依赖中可能带来的风险。</p>
<p>至少，你应稍看一下版本间的代码差异，或看一下版本发布说明，来确定关键位置的升级代码。如果实在有太多的差异代码，导致难以通过差异信息来发现问题，那么，你应把这个问题也作为一个升级风险来对待。</p>
<p>你应该重新跑一下你项目的测试用例，以确保升级后能兼容上一版本。重新运行依赖包本身的测试也是必要的。如果依赖包本身也有自己的依赖，那么你的项目配置中可能会依赖某些间接依赖包的不同版本。运行依赖包本身的测试用例可快速发现你的项目配置是否有问题。</p>
<p>并且，版本升级不应完全自动化。在升级前，你应预先验证新版本是否能在你的环境运行。（引：<code>22</code>）</p>
<p>如果你的升级过程已经包括了运行之前所写的整合测试和合规测试代码，那你已经可以在上线前预先发现问题了。在这种情况下，你升级越快，风险越低。</p>
<p>安全相关的关键升级窗口期特别短。在 Equifax 公司的入侵事件发生后，法院的安全团队发现证据表明攻击者（可能是不同的攻击者）在 Apache Struts 漏洞爆出后仅第 3 天（即 3 月 10 日）就已经入侵了 Equifax 的服务器，但他们当时只运行了一个 <code>whoami</code> 命令。</p>
<h3 id="十对依赖的监控">十、对依赖的监控</h3>
<p>即使你已经做到上述所说的，工作仍旧没有完成。你还应持续监控依赖的状况，以便评估是否继续使用这些依赖。</p>
<p><strong>你应先确认你所使用的包的确是你想要的那个版本。</strong></p>
<p>目前大部分依赖管理器可以轻松做到（甚至自动地记录）某个版本代码的加密哈希值。然后，在其他电脑或测试环境中重新下载依赖包后，可验证哈希值是否一致。</p>
<p>这样可以保证你的代码构建是基于你曾检查过、测试过的、完全相同的依赖代码。从而避免类似 <code>event-stream</code> 那样的攻击（偷偷地在已发布的版本 3.3.5 中插入了恶意代码，因为没有做哈希榆次）。若有哈希校验，则攻击者必须创建一个新的 3.3.6 版本，并等人们升级（且是没留意是否有修改的前提下）才能攻击成功。</p>
<p>另外，还需注意是否有新的间接依赖被加入进来了。版本升级也很容易在你升级目前的依赖时引入新的间接依赖。</p>
<p>在 <code>event-stream</code> 这个案例中，恶意代码被隐藏在一个不同的包中 <code>flatmap-stream</code>，而 <code>event-stream</code> 发布新版本时就将这个包作为新依赖引入进来了。</p>
<p>这些间接依赖所造成的影响也会体现在你项目构建后的包的尺寸上。</p>
<p>在 Google 的 Sawzall（引：<code>23</code>）（一门 JIT 日志处理语言）中，作者发现，在不同时候，其主解释器二进制文件不仅包含 Sawzall 的 JIT 信息，还包含从未使用过的 PostScript、Python、JavaScript 的解释器。每次细查发现，其实原因是 Sawzall 所依赖的某些库声明了一些从未使用的其他依赖，再加上 Google 的构建系统会自动处理新的依赖关系，从而导致上述结果。这类错误正是 Go 语言为什么会将未使用过的导入当成是编译时错误的原因。</p>
<h3 id="十一什么时机用来检查是否继续使用原有的依赖">十一、什么时机用来检查是否继续使用原有的依赖</h3>
<p>当然是升级版本时。定期重新检查依赖是否有变化也很重要。</p>
<ul>
<li>能否确定是否真的没有安全问题或其他 bug 需要修复了？</li>
<li>该项目是否已不再维护了？也许已是时候开始准备去替换依赖了。</li>
</ul>
<p>重新查看每个依赖项的安全相关历史记录也很重要。例如，Apache Struts 在 2016、2017、2018 均披露过不同的严重远程代码执行漏洞。所以即使你的服务器都已升级到其最新版本，但有着这样的安全历史记录，你应再三思考是否应继续使用它。</p>
<h3 id="十二总结">十二、总结</h3>
<p>软件复用的时代已经来临，我们不能低估其带来的好处：软件复用为开发者带来了巨大的便利。</p>
<p>尽管它的好处固然不可否认，但我们在这股转变的洪流中，还没来得及认真去思考随之而来的风险。</p>
<p>今时不同往日，我们拥有很多依赖，<strong>我们已经不能再像二三十年那样“过于信任依赖”了。</strong></p>
<p>我在本文已经说明了，对依赖项进行严格的验证、测试会有很大的工作量，并且大部分团队做不到这一点。</p>
<p>我甚至怀疑是否真的有开发者做到了对每个新引入的依赖都做了上述工作。而我自己以前仅在我的部分依赖中做到了部分工作。大部分情况下的决策完全就是“先用着再看”，并且如果再往前一步就会增加很多工作量。</p>
<p>但 Copay 和 Equifax 公司被入侵的案例已经敲响了警钟：我们现在这种使用依赖的方式真的存在严重问题。我们不能对此掉以轻心。为此，我提出下面 3 条建议：</p>
<ul>
<li><strong>意识到问题严重性</strong>。</li>
</ul>
<p>我希望本文至少能让你意识到这是一个值得着手去解决的问题。并且需要很多人一起花大力气才能解决。</p>
<ul>
<li><strong>现在就该开始建立最佳实践</strong>。</li>
</ul>
<p>我们需要建立最佳实践来管理现在可用的依赖。这意味着从最初决定采用依赖阶段到上线阶段都要制定评估、减少、跟踪风险的流程。事实上，正如一些工程师专注与测试工作一样，我们可能还需要一些专门管理依赖的工程师。</p>
<ul>
<li><strong>开发面向未来的依赖管理技术</strong>。</li>
</ul>
<p>依赖管理器已基本消除了下载和安装依赖的成本。未来的开发工作重点更应在于：</p>
<ul>
<li><strong>降低评估和维护依赖的成本。</strong> 例如，依赖包的搜索站点应让开发者更容易共享他们发现的问题和修复方案等。构建工具应至少做到更容易跑包自身的测试用例。若能做的更好的话，构建工具和包管理系统应协同起来，允许包的开发者去在代码变更时，测试可能对其 API 的所有公共客户端造成的影响。编程语言也应提供更简单的机制来隔离有问题的包。</li>
</ul>
<p>世界上有优质的软件这么多，为更安全可靠地复用这些软件，我们应携手前行。</p>
<h5 id="参考">参考</h5>
<ol>
<li>Rachel Potvin and Josh Levenberg, “Why Google Stores Billions of Lines of Code in a Single Repository,” Communications of the ACM 59(7) (July 2016), pp. 78-87. <a href="https://doi.org/10.1145/2854146">https://doi.org/10.1145/2854146</a></li>
<li>Russ Cox, “Go &amp; Versioning,” February 2018. <a href="https://research.swtch.com/vgo">https://research.swtch.com/vgo</a></li>
<li>Ken Thompson, “Reflections on Trusting Trust,” Communications of the ACM 27(8) (August 1984), pp. 761–763. <a href="https://doi.org/10.1145/358198.358210">https://doi.org/10.1145/358198.358210</a></li>
<li>GNU Project, “GNU General Public License, version 1,” February 1989. <a href="https://www.gnu.org/licenses/old-licenses/gpl-1.0.html">https://www.gnu.org/licenses/old-licenses/gpl-1.0.html</a></li>
<li>Titus Winters, “SD-8: Standard Library Compatibility,” C++ Standing Document, August 2018. <a href="https://isocpp.org/std/standing-documents/sd-8-standard-library-compatibility">https://isocpp.org/std/standing-documents/sd-8-standard-library-compatibility</a></li>
<li>Go Project, “Go 1 and the Future of Go Programs,” September 2013. <a href="https://golang.org/doc/go1compat">https://golang.org/doc/go1compat</a></li>
<li>Facebook, “Infer: A tool to detect bugs in Java and C/C++/Objective-C code before it ships.” <a href="https://fbinfer.com/">https://fbinfer.com/</a></li>
<li>“SpotBugs: Find bugs in Java Programs.” <a href="https://spotbugs.github.io/">https://spotbugs.github.io/</a></li>
<li>D. Richard Hipp, “How SQLite is Tested.” <a href="https://www.sqlite.org/testing.html">https://www.sqlite.org/testing.html</a></li>
<li>Alexander Potapenko, “Testing Chromium: ThreadSanitizer v2, a next-gen data race detector,” April 2014. <a href="https://blog.chromium.org/2014/04/testing-chromium-threadsanitizer-v2.html">https://blog.chromium.org/2014/04/testing-chromium-threadsanitizer-v2.html</a></li>
<li>NIST, “National Vulnerability Database – Search and Statistics.” <a href="https://nvd.nist.gov/vuln/search">https://nvd.nist.gov/vuln/search</a></li>
<li>Russ Cox, “Regular Expression Matching with a Trigram Index, or How Google Code Search Worked,” January 2012. <a href="https://swtch.com/~rsc/regexp/regexp4.html">https://swtch.com/~rsc/regexp/regexp4.html</a></li>
<li>Google, “Google Open Source: Using Third-Party Licenses.” <a href="https://opensource.google.com/docs/thirdparty/licenses/#banned">https://opensource.google.com/docs/thirdparty/licenses/#banned</a></li>
<li>Nathan Willis, “A single Node of failure,” LWN, March 2016. <a href="https://lwn.net/Articles/681410/">https://lwn.net/Articles/681410/</a></li>
<li>Charlie Reis, “Multi-process Architecture,” September 2008. <a href="https://blog.chromium.org/2008/09/multi-process-architecture.html">https://blog.chromium.org/2008/09/multi-process-architecture.html</a></li>
<li>Adam Langley, “Chromium’s seccomp Sandbox,” August 2009. <a href="https://www.imperialviolet.org/2009/08/26/seccomp.html">https://www.imperialviolet.org/2009/08/26/seccomp.html</a></li>
<li>Nicolas Lacasse, “Open-sourcing gVisor, a sandboxed container runtime,” May 2018. <a href="https://cloud.google.com/blog/products/gcp/open-sourcing-gvisor-a-sandboxed-container-runtime">https://cloud.google.com/blog/products/gcp/open-sourcing-gvisor-a-sandboxed-container-runtime</a></li>
<li>Adam Baldwin, “Details about the event-stream incident,” November 2018. <a href="https://blog.npmjs.org/post/180565383195/details-about-the-event-stream-incident">https://blog.npmjs.org/post/180565383195/details-about-the-event-stream-incident</a></li>
<li>Russ Cox, “RE2: a principled approach to regular expression matching,” March 2010. <a href="https://opensource.googleblog.com/2010/03/re2-principled-approach-to-regular.html">https://opensource.googleblog.com/2010/03/re2-principled-approach-to-regular.html</a></li>
<li>Rob Pike, “Go Proverbs,” November 2015. <a href="https://go-proverbs.github.io/">https://go-proverbs.github.io/</a></li>
<li>U.S. House of Representatives Committee on Oversight and Government Reform, “The Equifax Data Breach,” Majority Staff Report, 115th Congress, December 2018. <a href="https://oversight.house.gov/report/committee-releases-report-revealing-new-information-on-equifax-data-breach/">https://oversight.house.gov/report/committee-releases-report-revealing-new-information-on-equifax-data-breach/</a></li>
<li>Russ Cox, “The Principles of Versioning in Go,” GopherCon Singapore, May 2018. <a href="https://www.youtube.com/watch?v=F8nrpe0XWRg">https://www.youtube.com/watch?v=F8nrpe0XWRg</a></li>
<li>Rob Pike, Sean Dorward, Robert Griesemer, and Sean Quinlan, “Interpreting the Data: Parallel Analysis with Sawzall,” Scientific Programming Journal, vol. 13 (2005). <a href="https://doi.org/10.1155/2005/962135">https://doi.org/10.1155/2005/962135</a></li>
</ol>
<p>英文原文：https://research.swtch.com/deps</p>
<p>作者：<a href="https://swtch.com/~rsc/">Russ Cox</a>（Go 语言主要开发者之一，任职于 Google）</p>

                        </div>
                        
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">分类</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/%e5%ae%9e%e8%b7%b5%e6%a1%88%e4%be%8b">实践案例 (8)</a>
            </li>
            
            <li>
                <a href="/categories/%e8%a7%82%e7%82%b9%e4%b8%8e%e6%96%b9%e6%b3%95">观点与方法 (10)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">标签</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li>
                <a href="/tags/automation"><i class="fas fa-tags"></i> automation</a>
            </li>
            
            <li>
                <a href="/tags/data-driven"><i class="fas fa-tags"></i> data-driven</a>
            </li>
            
            <li>
                <a href="/tags/devops"><i class="fas fa-tags"></i> devops</a>
            </li>
            
            <li>
                <a href="/tags/etsy"><i class="fas fa-tags"></i> etsy</a>
            </li>
            
            <li>
                <a href="/tags/imvu"><i class="fas fa-tags"></i> imvu</a>
            </li>
            
            <li>
                <a href="/tags/microsoft"><i class="fas fa-tags"></i> microsoft</a>
            </li>
            
            <li>
                <a href="/tags/mttr"><i class="fas fa-tags"></i> mttr</a>
            </li>
            
            <li>
                <a href="/tags/sre"><i class="fas fa-tags"></i> sre</a>
            </li>
            
            <li>
                <a href="/tags/tip"><i class="fas fa-tags"></i> tip</a>
            </li>
            
            <li>
                <a href="/tags/unit-test"><i class="fas fa-tags"></i> unit-test</a>
            </li>
            
            <li>
                <a href="/tags/valet"><i class="fas fa-tags"></i> valet</a>
            </li>
            
            <li>
                <a href="/tags/%e4%be%9d%e8%b5%96%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 依赖管理</a>
            </li>
            
            <li>
                <a href="/tags/%e5%88%86%e6%94%af%e7%ad%96%e7%95%a5"><i class="fas fa-tags"></i> 分支策略</a>
            </li>
            
            <li>
                <a href="/tags/%e5%88%b6%e5%93%81%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 制品管理</a>
            </li>
            
            <li>
                <a href="/tags/%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95"><i class="fas fa-tags"></i> 单元测试</a>
            </li>
            
            <li>
                <a href="/tags/%e5%ae%89%e5%85%a8"><i class="fas fa-tags"></i> 安全</a>
            </li>
            
            <li>
                <a href="/tags/%e5%b7%a5%e7%a8%8b%e6%95%88%e8%83%bd"><i class="fas fa-tags"></i> 工程效能</a>
            </li>
            
            <li>
                <a href="/tags/%e5%b7%a5%e7%a8%8b%e7%94%9f%e4%ba%a7%e5%8a%9b"><i class="fas fa-tags"></i> 工程生产力</a>
            </li>
            
            <li>
                <a href="/tags/%e5%ba%a6%e9%87%8f"><i class="fas fa-tags"></i> 度量</a>
            </li>
            
            <li>
                <a href="/tags/%e5%ba%a6%e9%87%8f%e4%bd%93%e7%b3%bb"><i class="fas fa-tags"></i> 度量体系</a>
            </li>
            
            <li>
                <a href="/tags/%e5%be%aa%e8%af%81%e5%86%b3%e7%ad%96"><i class="fas fa-tags"></i> 循证决策</a>
            </li>
            
            <li>
                <a href="/tags/%e5%be%ae%e8%bd%af"><i class="fas fa-tags"></i> 微软</a>
            </li>
            
            <li>
                <a href="/tags/%e6%89%8e%e5%a0%86%e5%84%bf%e7%bc%96%e7%a8%8b"><i class="fas fa-tags"></i> 扎堆儿编程</a>
            </li>
            
            <li>
                <a href="/tags/%e6%8a%80%e6%9c%af%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 技术管理</a>
            </li>
            
            <li>
                <a href="/tags/%e6%8c%81%e7%bb%ad%e9%83%a8%e7%bd%b2"><i class="fas fa-tags"></i> 持续部署</a>
            </li>
            
            <li>
                <a href="/tags/%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90"><i class="fas fa-tags"></i> 持续集成</a>
            </li>
            
            <li>
                <a href="/tags/%e6%95%8f%e6%8d%b7"><i class="fas fa-tags"></i> 敏捷</a>
            </li>
            
            <li>
                <a href="/tags/%e6%95%b0%e6%8d%ae%e8%af%b4%e8%af%9d"><i class="fas fa-tags"></i> 数据说话</a>
            </li>
            
            <li>
                <a href="/tags/%e6%a1%88%e4%be%8b"><i class="fas fa-tags"></i> 案例</a>
            </li>
            
            <li>
                <a href="/tags/%e6%b5%8b%e8%af%95%e5%8f%b3%e7%a7%bb"><i class="fas fa-tags"></i> 测试右移</a>
            </li>
            
            <li>
                <a href="/tags/%e6%b5%8b%e8%af%95%e5%b7%a6%e7%a7%bb"><i class="fas fa-tags"></i> 测试左移</a>
            </li>
            
            <li>
                <a href="/tags/%e7%a7%bb%e5%8a%a8%e5%bc%80%e5%8f%91"><i class="fas fa-tags"></i> 移动开发</a>
            </li>
            
            <li>
                <a href="/tags/%e7%b2%be%e7%9b%8a"><i class="fas fa-tags"></i> 精益</a>
            </li>
            
            <li>
                <a href="/tags/%e7%b2%be%e7%9b%8a%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91"><i class="fas fa-tags"></i> 精益软件开发</a>
            </li>
            
            <li>
                <a href="/tags/%e7%bb%84%e7%bb%87%e8%bd%ac%e5%9e%8b"><i class="fas fa-tags"></i> 组织转型</a>
            </li>
            
            <li>
                <a href="/tags/%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95"><i class="fas fa-tags"></i> 自动化测试</a>
            </li>
            
            <li>
                <a href="/tags/%e8%b4%a8%e9%87%8f%e4%bf%9d%e9%9a%9c"><i class="fas fa-tags"></i> 质量保障</a>
            </li>
            
            <li>
                <a href="/tags/%e8%b4%a8%e9%87%8f%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 质量管理</a>
            </li>
            
            <li>
                <a href="/tags/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b"><i class="fas fa-tags"></i> 软件工程</a>
            </li>
            
            <li>
                <a href="/tags/%e8%bf%ad%e4%bb%a3%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 迭代管理</a>
            </li>
            
            <li>
                <a href="/tags/%e9%83%a8%e7%bd%b2%e6%b5%81%e6%b0%b4%e7%ba%bf"><i class="fas fa-tags"></i> 部署流水线</a>
            </li>
            
            <li>
                <a href="/tags/%e9%87%8d%e6%9e%84"><i class="fas fa-tags"></i> 重构</a>
            </li>
            
            <li>
                <a href="/tags/%e9%9a%90%e5%96%bb"><i class="fas fa-tags"></i> 隐喻</a>
            </li>
            
            <li>
                <a href="/tags/%e9%a1%b9%e7%9b%ae%e7%ae%a1%e7%90%86"><i class="fas fa-tags"></i> 项目管理</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>关于我们</h4>

            <p></p>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>最新博客</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://www.continuousdelivery20.com/blog/dependency-problems/">
                          
                            <img src="/img/banners/b-2021-01/dependency-issue.png" class="img-responsive" alt="当代软件面临的依赖管理挑战">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.continuousdelivery20.com/blog/dependency-problems/">当代软件面临的依赖管理挑战</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://www.continuousdelivery20.com/blog/lake-and-rock/">
                          
                            <img src="/img/banners/b-2021-01/lake-and-rock.png" class="img-responsive" alt="湖水与岩石">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.continuousdelivery20.com/blog/lake-and-rock/">湖水与岩石</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://www.continuousdelivery20.com/blog/mttr/">
                          
                            <img src="/img/banners/MTTR.png" class="img-responsive" alt="系统故障的度量指标：MTTR，MTBF，MTTF">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.continuousdelivery20.com/blog/mttr/">系统故障的度量指标：MTTR，MTBF，MTTF</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>联系</h4>

            <p class="text-uppercase"><strong>《持续交付2.0》爱好者社区</strong>
        <br>北京国际饭店 5层
        <br>东城区
        <br>北京市
        <br>
        <strong>中国</strong>
      </p>
      

            <a href="/contact" class="btn btn-small btn-template-main">跳到联系页面</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright ©️ 2019 - 2028, 《持续交付2.0》作者 乔梁; all rights reserved.  <a href='https://beian.miit.gov.cn/'>京ICP备18046893号-1</a></p>
            
            <p class="pull-right">
              模板来自 <a href="https://bootstrapious.com/p/universal-business-e-commerce-template">Bootstrapious</a>.
              

              移植到 Hugo 来自 <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>.
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script src="/js/jquery-3.1.1.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="/js/hpneo.gmaps.js"></script>
<script src="/js/gmaps.init.js"></script>
<script src="/js/front.js"></script>


<script src="/js/owl.carousel.min.js"></script>



  </body>
</html>
